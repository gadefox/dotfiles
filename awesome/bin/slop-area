#!/bin/rc
. /usr/local/libexec/rc/notify
notify_icon = scrot
notify_title = Screenshot:

notify_showid 'Select a window or region with two clicks.'
area = `(slop -b 2 -r boxzoom -c '0.863,0.275,0.114,0.5' -D -q -l)
~ $area () && notify_error 'Selection was cancelled by keystroke or right-click.'

name = slop_`(date +%Y%m%d%H%M%S)^.jpg
file = `(xdg-user-dir PICTURES)^/$name
import -window root -crop $area $file

opt = `(notify_show 'Selection saved to: '$name '' o=Open f=Folder d=Delete)
notify_xdg $file $opt
exit 0
